{
    "contents" : "##Raster File Read-In\nreadAndMerge <- function(){\n  library(raster)\n  library(plyr)\n  getLatLong <- function(df,name){\n    df$LONGITUDE <- round(df$x,digits=2)\n    df$LATITUDE <-  round(df$y,digits=2)\n    df <- df[c(\"LATITUDE\",\"LONGITUDE\",name)]\n    return(df)\n  }\n  \n  ##First read raster\n  ba <- raster(\"demographics\\\\m1602ba00.asc\")\n  ##Then extract data with an x and a y column\n  ba <- as.data.frame(ba,xy=TRUE)\n  ##Then round it\n  ba <- getLatLong(ba,\"m1602ba00\")\n  ##Then take mean\n  baMean <- ddply(ba,.(LATITUDE,LONGITUDE),summarize,meanBA=mean(m1602ba00,na.rm=TRUE))\n  rm(ba)\n  \n  fb <- raster(\"demographics\\\\m1602fb00.asc\")\n  fb <- as.data.frame(fb,xy=TRUE)\n  fb <- getLatLong(fb,\"m1602fb00\")\n  fbMean <- ddply(fb,.(LATITUDE,LONGITUDE),summarize,meanFB=mean(m1602fb00,na.rm=TRUE))\n  rm(fb)\n  \n  hh3 <- raster(\"demographics\\\\m1602HH300.asc\")\n  hh3 <- as.data.frame(hh3,xy=TRUE)\n  hh3 <- getLatLong(hh3,\"m1602HH300\")\n  hh3Mean <- ddply(hh3,.(LATITUDE,LONGITUDE),summarize,meanHH3=mean(m1602HH300,na.rm=TRUE))\n  rm(hh3)\n  \n  \n  hs <- raster(\"demographics\\\\m1602hs00.asc\")\n  hs <- as.data.frame(hs,xy=TRUE)\n  hs <- getLatLong(hs,\"m1602hs00\")\n  hsMean <- ddply(hs,.(LATITUDE,LONGITUDE),summarize,meanHS=mean(m1602hs00,na.rm=TRUE))\n  rm(hs)\n  \n  \n  hu3 <- raster(\"demographics\\\\m1602hu300.asc\")\n  hu3 <- as.data.frame(hu3,xy=TRUE)\n  hu3 <- getLatLong(hu3,\"m1602hu300\")\n  hu3Mean <- ddply(hu3,.(LATITUDE,LONGITUDE),summarize,meanHU3=mean(m1602hu300,na.rm=TRUE))\n  rm(hu3)\n  \n  \n  hunv <- raster(\"demographics\\\\m1602hunv00.asc\")\n  hunv<- as.data.frame(hunv,xy=TRUE)\n  hunv <- getLatLong(hunv,\"m1602hunv00\")\n  hunvMean <- ddply(hunv,.(LATITUDE,LONGITUDE),summarize,meanHUNV=mean(m1602hunv00,na.rm=TRUE))\n  rm(hunv)\n  \n  \n  p25 <- raster(\"demographics\\\\m1602p2500.asc\")\n  p25 <- as.data.frame(p25,xy=TRUE)\n  p25 <- getLatLong(p25,\"m1602p2500\")\n  meanP25 <- ddply(p25,.(LATITUDE,LONGITUDE),summarize,meanp25=mean(m1602p2500,na.rm=TRUE))\n  rm(p25)\n  \n  pop3 <- raster(\"demographics\\\\m1602pop300.asc\")\n  pop3 <- as.data.frame(pop3,xy=TRUE)\n  pop3 <- getLatLong(pop3,\"m1602pop300\")\n  pop3Mean <- ddply(pop3,.(LATITUDE,LONGITUDE),summarize,meanPop3=mean(m1602pop300,na.rm=TRUE))\n  rm(pop3)\n  \n  pov <- raster(\"demographics\\\\m1602pov00.asc\")\n  pov <- as.data.frame(pov,xy=TRUE)\n  pov <- getLatLong(pov,\"m1602pov00\")\n  povMean <- ddply(pov,.(LATITUDE,LONGITUDE),summarize,meanPOV=mean(m1602pov00,na.rm=TRUE))\n  rm(pov)\n  \n  sevp <- raster(\"demographics\\\\m1602sevp00.asc\")\n  sevp <- as.data.frame(sevp,xy=TRUE)\n  sevp <- getLatLong(sevp,\"m1602sevp00\")\n  sevpMean <- ddply(sevp,.(LATITUDE,LONGITUDE),summarize,meanSEVP=mean(m1602sevp00,na.rm=TRUE))\n  rm(sevp)\n  \n  demo <- merge(baMean,fbMean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,hh3Mean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,hsMean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,hu3Mean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,hunvMean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,meanP25,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,pop3Mean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,povMean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  demo <- merge(demo,sevpMean,by=c(\"LATITUDE\",\"LONGITUDE\"),all=TRUE)\n  \n  write.csv(demo,\"Demographics.csv\",row.names=FALSE)\n  return(demo)\n}\n##demo <- readAndMerge()",
    "created" : 1393977474788.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2179049455",
    "id" : "582E155F",
    "lastKnownWriteTime" : 1393976145,
    "path" : "~/_RWork/DivvyChallenge/_Script-PrepRaster.R",
    "project_path" : "_Script-PrepRaster.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}